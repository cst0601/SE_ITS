(this.webpackJsonpits_react=this.webpackJsonpits_react||[]).push([[0],{101:function(e,a,t){},110:function(e,a,t){},124:function(e,a,t){e.exports=t(259)},129:function(e,a,t){},130:function(e,a,t){},149:function(e,a,t){},167:function(e,a,t){},247:function(e,a,t){},250:function(e,a,t){},256:function(e,a,t){},257:function(e,a,t){},259:function(e,a,t){"use strict";t.r(a);var n=t(6),r=t(7),s=t(10),i=t(8),l=t(9),o=t(0),c=t.n(o),m=t(22),u=t.n(m),h=(t(129),t(13)),d=t(3),p=t(262),b=t(263),g=t(113),f=t(268),E=t(114),w=(t(21),t(130),function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={username:"",password:""},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.redirectToSignUp=t.redirectToSignUp.bind(Object(d.a)(t)),t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),t(12).post("http://127.0.0.1:5000/sign_in",this.state).then((function(e){switch(console.log(e),e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":window.location=window.location.origin+"/"+e.data.id;break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"redirectToSignUp",value:function(){this.props.history.push("/sign_up")}},{key:"render",value:function(){var e=this.state,a=e.username,t=e.password;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:8},c.a.createElement("div",null,c.a.createElement("h4",null,"Issue Traking System for the software engineering"),c.a.createElement("p",null,"Manage your repositories and provide code stores and reviews. Each project can also have an issue tracker."))),c.a.createElement(g.a,{lg:4},c.a.createElement("div",{className:"border border-black",style:{padding:"10px"}},c.a.createElement(f.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a.Group,{controlId:"formBasicUsername"},c.a.createElement(f.a.Label,null,"Username"),c.a.createElement(f.a.Control,{type:"text",name:"username",value:a,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formBasicPassword"},c.a.createElement(f.a.Label,null,"Password"),c.a.createElement(f.a.Control,{type:"password",name:"password",value:t,onChange:this.handleChange})),c.a.createElement(E.a,{variant:"primary",type:"submit",style:{margin:"5px"}},"Login"),c.a.createElement(E.a,{variant:"outline-dark",style:{margin:"5px"},onClick:this.redirectToSignUp},"Sign Up"))))))}}]),a}(c.a.Component)),v={backend_host:"http://127.0.0.1:5000"},y=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={username:"",name:"",email:"",password:""},t.handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.handleChange=t.handleChange.bind(Object(d.a)(t)),t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),t(12).post(v.backend_host+"/sign_up",this.state).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":alert(e.data.payload),a.props.history.push("/sign_in");break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"render",value:function(){return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("h2",null,"Create your account"),c.a.createElement(f.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a.Group,{controlId:"formGridUsername"},c.a.createElement(f.a.Label,null,"Username"),c.a.createElement(f.a.Control,{type:"text",name:"username",required:!0,value:this.state.username,pattern:"[a-zA-Z0-9]{8,16}",onChange:this.handleChange}),c.a.createElement(f.a.Text,{className:"text-muted"},"Make sure it's at least 8 characters and at most 16 characters.")),c.a.createElement(f.a.Group,{controlId:"formGridName"},c.a.createElement(f.a.Label,null,"Name"),c.a.createElement(f.a.Control,{type:"text",name:"name",required:!0,value:this.state.name,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridEmail"},c.a.createElement(f.a.Label,null,"Email"),c.a.createElement(f.a.Control,{type:"email",name:"email",required:!0,value:this.state.email,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridPassword"},c.a.createElement(f.a.Label,null,"Password"),c.a.createElement(f.a.Control,{type:"password",name:"password",required:!0,value:this.state.password,onChange:this.handleChange}),c.a.createElement(f.a.Text,{className:"text-muted"},"Make sure it's at least 8 characters and at most 16 characters.")),c.a.createElement(E.a,{variant:"primary",type:"submit"},"Register"),c.a.createElement(f.a.Text,{className:"text-muted"},"By creating an account, you agree to the Terms of Service.")))))}}]),a}(c.a.Component),k=t(269),j=(t(149),function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).onClickButtonProject=function(e){window.location="/"+r.username+"/projects"},r.profileLineNames=["email","username","lineID","name"],r.state={email:"",username:"",lineID:"",oldPassword:"",newPassword:"",show:!1,name:"",originProfileData:{email:"",username:"",lineID:"",name:""},isOwner:!1},r.username=r.props.match.params.username,t(12).post(v.backend_host+"/user/profile",{username:r.username}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload),r.setState({originProfileData:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleClose=r.handleClose.bind(Object(d.a)(r)),r.handleShow=r.handleShow.bind(Object(d.a)(r)),r.isProfileChange=r.isProfileChange.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.onClickButtonProject=r.onClickButtonProject.bind(Object(d.a)(r)),r.updateProfile=r.updateProfile.bind(Object(d.a)(r)),r.updatePassword=r.updatePassword.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"updateProfile",value:function(e){var a=this;t(12).post("http://127.0.0.1:5000/user/update_profile",this.state).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":a.setState(e.data.payload),a.setState({originProfileData:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"updatePassword",value:function(e){var a=this;t(12).post("http://127.0.0.1:5000/user/update_password",this.state).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":alert(e.data.payload),a.setState({show:!1,oldPassword:"",newPassword:""});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"isProfileChange",value:function(){for(var e in this.profileLineNames)if(this.state[this.profileLineNames[e]]!==this.state.originProfileData[this.profileLineNames[e]])return!0;return!1}},{key:"render",value:function(){var e=this.state,a=e.username,t=e.email,n=e.lineID,r=e.oldPassword,s=e.newPassword,i=e.name;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("h2",null,"Profile"),c.a.createElement(f.a,{onSubmit:this.updateProfile},c.a.createElement(f.a.Group,{controlId:"formGridUsername"},c.a.createElement(f.a.Label,null,"Username"),c.a.createElement(f.a.Control,{type:"text",name:"username",readOnly:!0,value:a})),c.a.createElement(f.a.Group,{controlId:"formGridName"},c.a.createElement(f.a.Label,null,"Name"),c.a.createElement(f.a.Control,{type:"text",name:"name",required:!0,readOnly:!this.state.isOwner,value:i,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridEmail"},c.a.createElement(f.a.Label,null,"Email"),c.a.createElement(f.a.Control,{type:"email",required:!0,name:"email",readOnly:!this.state.isOwner,value:t,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridEmail"},c.a.createElement(f.a.Label,null,"Line ID"),c.a.createElement(f.a.Control,{type:"text",name:"lineID",readOnly:!this.state.isOwner,value:n,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridButton"},this.state.isOwner?c.a.createElement("div",null,c.a.createElement(E.a,{className:"btn",variant:"primary",type:"submit",disabled:!this.isProfileChange()},"\u66f4\u65b0\u500b\u4eba\u8cc7\u6599"),c.a.createElement("br",null),c.a.createElement(E.a,{className:"btn",variant:"primary",onClick:this.handleShow},"\u4fee\u6539\u5bc6\u78bc"),c.a.createElement("br",null),c.a.createElement(E.a,{className:"btn",variant:"primary",onClick:this.onClickButtonProject},"\u6211\u7684\u5c08\u6848")):c.a.createElement("div",null))),c.a.createElement(k.a,{show:this.state.show,onHide:this.handleClose,animation:!1},c.a.createElement(k.a.Header,{closeButton:!0},c.a.createElement(k.a.Title,null,"\u4fee\u6539\u5bc6\u78bc")),c.a.createElement(k.a.Body,null,c.a.createElement(f.a.Group,{controlId:"formOldPassword"},c.a.createElement(f.a.Label,null,"\u8acb\u8f38\u5165\u820a\u5bc6\u78bc"),c.a.createElement(f.a.Control,{type:"password",name:"oldPassword",value:r,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formNewPassword"},c.a.createElement(f.a.Label,null,"\u8acb\u8f38\u5165\u65b0\u5bc6\u78bc"),c.a.createElement(f.a.Control,{type:"password",name:"newPassword",value:s,onChange:this.handleChange}))),c.a.createElement(k.a.Footer,null,c.a.createElement(E.a,{variant:"secondary",onClick:this.handleClose},"Close"),c.a.createElement(E.a,{variant:"primary",onClick:this.updatePassword},"Save Changes"))))))}}]),a}(c.a.Component)),_=t(273),C=t(264),O=(t(101),function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={show:!1,new_project_name:"",projects:[],showAlert:!1},r.username=r.props.match.params.username,t(12).post(v.backend_host+"/project/list",{username:r.username}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState({projects:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleProjectNameChange=r.handleProjectNameChange.bind(Object(d.a)(r)),r.changePage=r.changePage.bind(Object(d.a)(r)),r.handleClose=r.handleClose.bind(Object(d.a)(r)),r.handleShow=r.handleShow.bind(Object(d.a)(r)),r.createNewProject=r.createNewProject.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"handleProjectNameChange",value:function(e){var a,t=e.target,n=t.name,r=t.value;console.log(r);this.setState((a={},Object(h.a)(a,n,r),Object(h.a)(a,"showAlert",/[ ~!@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?]/.test(r)),a))}},{key:"changePage",value:function(e){this.props.history.push("/"+e.username+"/"+e.project_name)}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"createNewProject",value:function(e){e.preventDefault(),t(12).post(v.backend_host+"/project/list/create_project",{project_name:this.state.new_project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"render",value:function(){var e=this;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > projects"),c.a.createElement("h2",null,"My Project List"),c.a.createElement(E.a,{id:"button-add",variant:"outline-primary",onClick:this.handleShow},"\u65b0\u589e\u5c08\u6848"),c.a.createElement(_.a,null,this.state.projects.map((function(a){return c.a.createElement(_.a.Item,{onClick:function(){return e.changePage(a)},action:!0,key:a.project_name},c.a.createElement("h4",null," ",a.project_name," "),c.a.createElement("p",null," create by ",a.username))}))),c.a.createElement(k.a,{show:this.state.show,onHide:this.handleClose,animation:!1},c.a.createElement(k.a.Header,{closeButton:!0},c.a.createElement(k.a.Title,null,"\u65b0\u589e\u5c08\u6848")),c.a.createElement(k.a.Body,null,c.a.createElement(f.a.Group,{controlId:"formOldPassword"},c.a.createElement(f.a.Label,null,"\u8acb\u8f38\u5165\u5c08\u6848\u540d\u7a31"),c.a.createElement(f.a.Control,{type:"text",name:"new_project_name",value:this.state.new_project_name,onChange:this.handleProjectNameChange}),c.a.createElement(C.a,{variant:"warning",show:this.state.showAlert},'Name can\'t contain any special characters like " ", "~", "!", "-", "#", etc.'))),c.a.createElement(k.a.Footer,null,c.a.createElement(E.a,{variant:"secondary",onClick:this.handleClose},"Close"),c.a.createElement(E.a,{variant:"primary",disabled:this.state.showAlert,onClick:this.createNewProject},"Save Changes"))))))}}]),a}(c.a.Component)),S=t(274),P=(t(167),o.Component,t(116)),N=t.n(P);function L(e){return c.a.createElement("img",Object.assign({},e,{style:{maxWidth:"100%"}}))}var x=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(N.a,{source:this.props.source,renderers:{image:L}})}}]),a}(c.a.Component),T=t(272),D=t(265),I=t(117),A=t.n(I),G=(t(247),function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={hightlight:!1},t.fileInputRef=c.a.createRef(),t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.onDrop=t.onDrop.bind(Object(d.a)(t)),t.onDragLeave=t.onDragLeave.bind(Object(d.a)(t)),t.onDragOver=t.onDragOver.bind(Object(d.a)(t)),t.openFileDialog=t.openFileDialog.bind(Object(d.a)(t)),t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onDragOver",value:function(e){e.preventDefault(),this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){var a=this;e.preventDefault();var n=new FormData,r=e.dataTransfer.files[0];n.append("file",r);var s=t(12),i=this.props.comment;s.post(v.backend_host+"/file",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":var n=t(248),s=v.backend_host+e.data.payload;a.props.onTextChange(i+(n(s)?"!":"")+"["+r.name+"]("+s+")");break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),this.setState({hightlight:!1})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n)),this.props.onTextChange&&this.props.onTextChange(n)}},{key:"componentDidMount",value:function(){this.textarea.focus(),A()(this.textarea)}},{key:"render",value:function(){var e=this;return c.a.createElement(T.a,{defaultActiveKey:"write",id:"issue-tabs"},c.a.createElement(D.a,{eventKey:"write",title:"Write"},c.a.createElement("textarea",{style:{minHeight:"156px",maxHeight:"700px"},placeholder:"support mark down!\r\nattach file by draging and droping",name:"comment",className:"form-control markdown ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,ref:function(a){return e.textarea=a},value:this.props.comment,onChange:this.handleChange})),c.a.createElement(D.a,{eventKey:"preview",title:"Preview"},c.a.createElement("div",{style:{minHeight:"156px",border:"1px solid #ced4da",borderRadius:"0.25rem",padding:"0.375rem 0.75rem"}},c.a.createElement(x,{source:this.props.comment}))))}}]),a}(c.a.Component)),M=function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={username:"",project_name:"",description:"",inputEnable:!1,owner:!1},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name,t(12).post(v.backend_host+"/project/get_project",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.changeState=r.changeState.bind(Object(d.a)(r)),r.updateDescription=r.updateDescription.bind(Object(d.a)(r)),r.changeToIssueList=r.changeToIssueList.bind(Object(d.a)(r)),r.changeToMemberList=r.changeToMemberList.bind(Object(d.a)(r)),r.onFilesAdded=r.onFilesAdded.bind(Object(d.a)(r)),r.handleDescriptionChange=r.handleDescriptionChange.bind(Object(d.a)(r)),r.deleteProject=r.deleteProject.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"changeState",value:function(e){this.state.inputEnable&&this.updateDescription(),this.setState({inputEnable:!this.state.inputEnable})}},{key:"updateDescription",value:function(e){t(12).post(v.backend_host+"/project/update_description",{username:this.username,project_name:this.project_name,description:this.state.description}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"changeToIssueList",value:function(){this.props.history.push("/"+this.username+"/"+this.project_name+"/issues")}},{key:"changeToMemberList",value:function(){this.props.history.push("/"+this.username+"/"+this.project_name+"/members")}},{key:"onFilesAdded",value:function(e){this.setState((function(a){return{files:a.files.concat(e)}}))}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e})}},{key:"deleteProject",value:function(){var e=this;t(12).post(v.backend_host+"/project/delete_project",{username:this.username,project_name:this.project_name}).then((function(a){switch(a.data.info){case"redirect":window.location=window.location.origin+a.data.location;break;case"success":alert("Project deleted successfully."),e.props.history.push("/"+e.username+"/projects");break;case"failure":alert(a.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"render",value:function(){return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > ",this.project_name),c.a.createElement(S.a,null,c.a.createElement(S.a.Header,null,c.a.createElement(S.a.Text,{as:"label",className:"label-title"},this.state.project_name),c.a.createElement(E.a,{variant:"outline-dark",className:"button-right",onClick:this.changeToIssueList},"Issues"),c.a.createElement(E.a,{variant:"outline-primary",className:"button-right",onClick:this.changeToMemberList},"Members")),c.a.createElement(S.a.Body,null,c.a.createElement(f.a.Group,null,this.state.inputEnable?c.a.createElement(G,{onTextChange:this.handleDescriptionChange,comment:this.state.description}):c.a.createElement("div",{style:{minHeight:"200px",border:"1px solid #ced4da",borderRadius:"0.25rem",padding:"0.375rem 0.75rem"}},c.a.createElement(x,{source:this.state.description})),c.a.createElement(E.a,{variant:"outline-success",className:"button-right",style:{marginTop:"20px"},onClick:this.changeState},this.state.inputEnable?"Save":"Edit")))),this.state.owner?c.a.createElement("div",null,c.a.createElement(E.a,{variant:"danger",className:"button-right",onClick:this.deleteProject},"\u522a\u9664\u5c08\u6848")):c.a.createElement("div",null))))}}]),a}(c.a.Component),R=t(266),W=t(271),B=(t(250),function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(E.a,{className:"close",onClick:this.props.onClick,variant:"light",style:{backgroundColor:"white",position:"absolute",right:"0px"}},c.a.createElement("span",null,"\xd7"))}}]),a}(c.a.Component)),H=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).changeLevel=t.changeLevel.bind(Object(d.a)(t)),t.addAssignee=t.addAssignee.bind(Object(d.a)(t)),t.deleteAssignee=t.deleteAssignee.bind(Object(d.a)(t)),t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"changeLevel",value:function(e,a){this.props[e]!==a&&this.props.onAttributeChange(e,a)}},{key:"addAssignee",value:function(e,a){this.props.onAssigneesChange("add",a)}},{key:"deleteAssignee",value:function(e){this.props.onAssigneesChange("delete",e)}},{key:"render",value:function(){var e=this;return c.a.createElement(_.a,{variant:"flush"},c.a.createElement(_.a.Item,null,"Assignees",c.a.createElement(_.a,null,this.props.assignees.map((function(a){return c.a.createElement(_.a.Item,{className:"NameList",key:a},a,c.a.createElement(B,{onClick:function(){return e.deleteAssignee(a)}}))}))),c.a.createElement(W.a,null,c.a.createElement(W.a.Toggle,{variant:"outline-dark",id:"dropdown-basic",style:{marginTop:"5px"}},"Add Assignee"),c.a.createElement(W.a.Menu,null,this.props.members.map((function(a){return e.props.assignees.includes(a.username)?console.log(a.username):c.a.createElement(W.a.Item,{key:a.username,onClick:function(t){return e.addAssignee(t,a.username)}},a.username)}))))),c.a.createElement(_.a.Item,null,"Attribute",c.a.createElement("div",null,c.a.createElement(R.a,{className:"attribute",variant:"dark"},"severity:",c.a.createElement(R.a,{className:"level",variant:"low"===this.props.severity?"success":"secondary",onClick:function(a){return e.changeLevel("severity","low")}},"low"),c.a.createElement(R.a,{className:"level",variant:"medium"===this.props.severity?"warning":"secondary",onClick:function(a){return e.changeLevel("severity","medium")}},"medium"),c.a.createElement(R.a,{className:"level",variant:"high"===this.props.severity?"danger":"secondary",onClick:function(a){return e.changeLevel("severity","high")}},"high")),c.a.createElement(R.a,{className:"attribute",variant:"dark"},"priority:",c.a.createElement(R.a,{className:"level",variant:"low"===this.props.priority?"success":"secondary",onClick:function(a){return e.changeLevel("priority","low")}},"low"),c.a.createElement(R.a,{className:"level",variant:"medium"===this.props.priority?"warning":"secondary",onClick:function(a){return e.changeLevel("priority","medium")}},"medium"),c.a.createElement(R.a,{className:"level",variant:"high"===this.props.priority?"danger":"secondary",onClick:function(a){return e.changeLevel("priority","high")}},"high")),c.a.createElement(R.a,{className:"attribute",variant:"dark"},"reproducible:",c.a.createElement(R.a,{className:"level",variant:"yes"===this.props.reproducible?"success":"secondary",onClick:function(a){return e.changeLevel("reproducible","yes")}},"yes"),c.a.createElement(R.a,{className:"level",variant:"no"===this.props.reproducible?"danger":"secondary",onClick:function(a){return e.changeLevel("reproducible","no")}},"no")))))}}]),a}(c.a.Component),U=(t(110),function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=new Date(this.props.timestamp);return c.a.createElement(S.a,null,c.a.createElement(S.a.Header,null,this.props.creator," commented on ",e.toLocaleString()),c.a.createElement(S.a.Body,null,c.a.createElement(x,{source:this.props.text})))}}]),a}(c.a.Component)),F=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=new Date(this.props.timestamp);return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{className:"TimelineItem-badge "},c.a.createElement("svg",{className:"octicon octicon-tag",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},c.a.createElement("path",{fillRule:"evenodd",d:"M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 000-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z"}))),void 0===this.props.action?c.a.createElement("a",{style:{margin:"4px"}},c.a.createElement("strong",null,this.props.reporter)," set ",c.a.createElement("strong",null,this.props.type)," to ",c.a.createElement("strong",null,this.props.target)," on "+e.toLocaleString()):c.a.createElement("a",{style:{margin:"4px"}},c.a.createElement("strong",null,this.props.reporter)," "+this.props.action+" ",c.a.createElement("strong",null,this.props.target),"add"===this.props.action?" into ":" from ",c.a.createElement("strong",null,this.props.type)," on "+e.toLocaleString()))}}]),a}(c.a.Component),q=function(e){function a(e){var r;Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={comment_list:[],creator:"",date:0,new_comment_description:"",issue_number:0,title:"",severity:"",priority:"",reproducible:"",assignee:"",assignees:[],state:"",members:[]},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name,r.issue_number=r.props.match.params.issue_number;var l=t(12);return l.post(v.backend_host+"/issue/get_issue_content",{username:r.username,project_name:r.project_name,issue_number:r.issue_number}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.comment_list.sort((function(e,a){return new Date(e.date)-new Date(a.date)})),r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),l.post(v.backend_host+"/project/member_list",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.onAttributeChange=r.onAttributeChange.bind(Object(d.a)(r)),r.handleCommentChange=r.handleCommentChange.bind(Object(d.a)(r)),r.handleChangeIssueState=r.handleChangeIssueState.bind(Object(d.a)(r)),r.onAssigneesChange=r.onAssigneesChange.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),t(12).post("http://127.0.0.1:5000/issue/new_comment",{username:this.username,project_name:this.project_name,issue_number:this.issue_number,comment:this.state.new_comment_description}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.comment_list.sort((function(e,a){return new Date(e.date)-new Date(a.date)})),e.data.payload.new_comment_description="",a.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"onAttributeChange",value:function(e,a){var n=this,r=Object(h.a)({},e,a);this.setState(r),t(12).post("http://127.0.0.1:5000/issue/change_attribute",{username:this.username,project_name:this.project_name,issue_number:this.issue_number,change_detail:r}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.comment_list.sort((function(e,a){return new Date(e.date)-new Date(a.date)})),e.data.payload.new_comment_description="",n.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"onAssigneesChange",value:function(e,a){var n=this,r=this.state.assignees;"add"===e?r.push(a):"delete"===e&&(r=r.filter((function(e){return e!=a}))),this.setState({assignees:r}),t(12).post("http://127.0.0.1:5000/issue/change_assignee",{username:this.username,project_name:this.project_name,issue_number:this.issue_number,change_detail:{assignees:r,action:e,target:a}}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.comment_list.sort((function(e,a){return new Date(e.date)-new Date(a.date)})),e.data.payload.new_comment_description="",n.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"handleCommentChange",value:function(e){this.setState({new_comment_description:e})}},{key:"handleChangeIssueState",value:function(e){var a="open"===this.state.state?"closed":"open";this.onAttributeChange("state",a)}},{key:"render",value:function(){var e="/"+this.username+"/"+this.project_name;return c.a.createElement(p.a,{style:{paddingTop:"50px",paddingBottom:"50px"}},c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > ",c.a.createElement("a",{className:"PageLink",href:e},this.project_name)," > ",c.a.createElement("a",{className:"PageLink",href:e+"/issues"},"issues")," "," > ",this.issue_number),c.a.createElement("h2",null,this.state.title," #",this.issue_number),c.a.createElement("h4",null,c.a.createElement(R.a,{variant:"open"===this.state.state?"success":"warning"},this.state.state)))),c.a.createElement(b.a,{style:{paddingTop:"10px"}},c.a.createElement(g.a,{className:"MainList",lg:8},c.a.createElement(U,{creator:this.state.creator,timestamp:this.state.date,text:this.state.comment,key:this.state.creator+this.state.date}),this.state.comment_list.map((function(e){return void 0===e.type?c.a.createElement(U,{creator:e.creator,timestamp:e.date,text:e.comment,key:e.date}):c.a.createElement(F,{reporter:e.creator,timestamp:e.date,type:e.type,target:e.target,action:e.action,key:e.date})})),c.a.createElement(S.a,null,c.a.createElement(S.a.Body,null,c.a.createElement(f.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a.Group,null,c.a.createElement(G,{onTextChange:this.handleCommentChange,comment:this.state.new_comment_description}),c.a.createElement(E.a,{style:{marginTop:"5px"},variant:"outline-primary",type:"submit",disabled:""===this.state.new_comment_description},"Submit Comment"),c.a.createElement(E.a,{style:{marginTop:"5px"},variant:"outline-warning",onClick:this.handleChangeIssueState},"open"===this.state.state?"Close":"Reopen"," Issue")))))),c.a.createElement(g.a,{lg:4},c.a.createElement(H,{onAttributeChange:this.onAttributeChange,onAssigneesChange:this.onAssigneesChange,severity:this.state.severity,priority:this.state.priority,reproducible:this.state.reproducible,assignees:this.state.assignees,members:this.state.members}))))}}]),a}(c.a.Component),K=(t(256),function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={title:"",severity:"",priority:"",reproducible:"",assignee:"",assignees:[],comment:"",members:[],username:r.props.match.params.username,project_name:r.props.match.params.project_name},t(12).post(v.backend_host+"/project/member_list",{username:r.state.username,project_name:r.state.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.onAttributeChange=r.onAttributeChange.bind(Object(d.a)(r)),r.handleCommentChange=r.handleCommentChange.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r.onAssigneesChange=r.onAssigneesChange.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"handleSubmit",value:function(e){null!=this.state.title||null!=this.state.comment?(e.preventDefault(),t(12).post("http://127.0.0.1:5000/issue/new",this.state).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))):alert("Write something about this issue before submitting")}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabled||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabled){var a=e.dataTransfer.files;if(this.props.onFilesAdded){var t=this.fileListToArray(a);this.props.onFilesAdded(t)}this.setState({hightlight:!1})}}},{key:"onAttributeChange",value:function(e,a){this.setState(Object(h.a)({},e,a))}},{key:"handleCommentChange",value:function(e){this.setState({comment:e})}},{key:"onAssigneesChange",value:function(e,a){var t=this.state.assignees;"add"===e?t.push(a):"delete"===e&&(t=t.filter((function(e){return e!=a}))),console.log({assignees:t}),this.setState({assignees:t})}},{key:"render",value:function(){var e="/"+this.state.username+"/"+this.state.project_name;return c.a.createElement(p.a,null,c.a.createElement(f.a,{onSubmit:this.handleSubmit},c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{md:9},c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.state.username},this.state.username)," > ",c.a.createElement("a",{className:"PageLink",href:e},this.state.project_name)," > ",c.a.createElement("a",{className:"PageLink",href:e+"/issues"},"issues")," > new"),c.a.createElement("h2",null,"Create a new issue"),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Control,{required:!0,type:"text",placeholder:"Title",name:"title",onChange:this.handleChange})),c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Comment"),c.a.createElement(G,{onTextChange:this.handleCommentChange,comment:this.state.comment}))),c.a.createElement(g.a,{md:3},c.a.createElement(H,{onAttributeChange:this.onAttributeChange,onAssigneesChange:this.onAssigneesChange,severity:this.state.severity,priority:this.state.priority,reproducible:this.state.reproducible,assignees:this.state.assignees,members:this.state.members}))),c.a.createElement(E.a,{variant:"primary",style:{width:"100%"},type:"submit"},"Submit new issue")))}}]),a}(c.a.Component)),z=function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={show:!1,username:"",project_name:"",issues:[]},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name,t(12).post(v.backend_host+"/issue/list",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.sort((function(e,a){var t=new Date(e.last_update_time);return new Date(a.last_update_time)-t})),r.setState({issues:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.createIssue=r.createIssue.bind(Object(d.a)(r)),r.linkToDashboard=r.linkToDashboard.bind(Object(d.a)(r)),r.changePage=r.changePage.bind(Object(d.a)(r)),r.listItem=r.listItem.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"getLoaclTime",value:function(e){return new Date(e).toLocaleString()}},{key:"createIssue",value:function(e){this.props.history.push("/"+this.username+"/"+this.project_name+"/issues/new")}},{key:"linkToDashboard",value:function(e){this.props.history.push("/"+this.username+"/"+this.project_name+"/dashboard")}},{key:"changePage",value:function(e){this.props.history.push("/"+this.username+"/"+this.project_name+"/issues/"+e.issue_number)}},{key:"listItem",value:function(e){var a=this;return c.a.createElement(_.a,null,this.state.issues.map((function(t){if(e(t))return c.a.createElement(_.a.Item,{style:{padding:"5px"},key:t.issue_number,onClick:function(){return a.changePage(t)},action:!0},c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement("h5",null,"#",t.issue_number," ",t.title)),c.a.createElement(g.a,{align:"right"},c.a.createElement("p",null,t.comment_amount," responses"))),c.a.createElement(b.a,null,c.a.createElement(g.a,{md:12},c.a.createElement("p",null,"Opened by ",t.creator," @ ",a.getLoaclTime(t.date))),c.a.createElement(g.a,{md:12},c.a.createElement("p",null,"Last update on ",a.getLoaclTime(t.last_update_time)," "))))})))}},{key:"render",value:function(){var e="/"+this.username+"/"+this.project_name;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > ",c.a.createElement("a",{className:"PageLink",href:e},this.project_name)," > ","issues"," "),c.a.createElement("h2",null,"Issues"),c.a.createElement(E.a,{id:"button-add",variant:"outline-primary",onClick:this.createIssue},"New issue"),c.a.createElement(E.a,{id:"button-board",variant:"outline-primary",onClick:this.linkToDashboard},"Issue Dashboard"),c.a.createElement(T.a,{defaultActiveKey:"open",id:"issue-tabs"},c.a.createElement(D.a,{eventKey:"open",title:"Open"},this.listItem((function(e){return"open"===e.state}))),c.a.createElement(D.a,{eventKey:"closed",title:"Closed"},this.listItem((function(e){return"closed"===e.state}))),c.a.createElement(D.a,{eventKey:"all",title:"All"},this.listItem((function(e){return!0})))))))}}]),a}(c.a.Component),J=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(_.a.Item,{style:{padding:"5px"}},c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement("h5",null,this.props.name)),c.a.createElement(g.a,{align:"right"},c.a.createElement("p",null,this.props.response," responses"))))}}]),a}(c.a.Component),V=(c.a.Component,t(270)),Z=t(118),$=function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={username:""},t(12).post(v.backend_host+"/user/check").then((function(e){"success"===e.data.info?r.setState({username:e.data.payload}):"redirect"===e.data.info&&window.location.pathname!==e.data.location&&(r.setState({username:""}),window.location=e.data.location)})),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"signOut",value:function(){t(12).post("http://127.0.0.1:5000/sign_out").then((function(e){window.location="/sign_in"}))}},{key:"signIn",value:function(){window.location="/sign_in"}},{key:"render",value:function(){return c.a.createElement(V.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},c.a.createElement(V.a.Brand,null,"I.T.S"),c.a.createElement(V.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(V.a.Collapse,{id:"responsive-navbar-nav"},c.a.createElement(Z.a,{className:"mr-auto"},c.a.createElement(Z.a.Link,{href:"/"+this.state.username+"/projects"},"Projects")),c.a.createElement(Z.a,null,c.a.createElement(Z.a.Link,{eventKey:2,href:"/"+this.state.username},""!==this.state.username?"Hello, "+this.state.username:""),""!==this.state.username?c.a.createElement(Z.a.Link,{onClick:this.signOut},"Sign out"):c.a.createElement(Z.a.Link,{onClick:this.signIn},"Sign in"))))}}]),a}(c.a.Component),Q=t(267),X=function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={show:!1,username:"",project_name:"",users:[],new_user_name:"",new_user_role:"user",new_username:"",new_name:"",new_email:"",new_password:"",new_role:"user"},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name,t(12).post(v.backend_host+"/user/list").then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState({users:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleClose=r.handleClose.bind(Object(d.a)(r)),r.handleShow=r.handleShow.bind(Object(d.a)(r)),r.handleSelectNewRole=r.handleSelectNewRole.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.updateRole=r.updateRole.bind(Object(d.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1,new_user_name:"",new_user_role:"user"})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"updateRole",value:function(e,a){var n=this,r=e.target.value;t(12).post(v.backend_host+"/user/update_role",{selected_username:a,role:r}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":n.setState({users:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"handleSelectNewRole",value:function(e){this.setState({new_role:e.target.value})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),t(12).post(v.backend_host+"/user/create_account",{username:this.state.new_username,name:this.state.new_name,email:this.state.new_email,password:this.state.new_password,role:this.state.new_role}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":a.setState({users:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),this.handleClose()}},{key:"directToProfile",value:function(e){this.props.history.push("/"+e)}},{key:"render",value:function(){var e=this;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{marginTop:"20px"}},c.a.createElement(g.a,null,c.a.createElement("h2",null,"Account Management"),c.a.createElement(E.a,{id:"button-add",variant:"primary",onClick:this.handleShow},"Create Account"),c.a.createElement("p",null,"Do \u2318F to search for specific user or attributes :)"),c.a.createElement(Q.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"20px"}},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User Name"),c.a.createElement("th",null,"E-mail"),c.a.createElement("th",null,"Role"))),c.a.createElement("tbody",null,this.state.users.map((function(a){return c.a.createElement("tr",null,c.a.createElement("td",{onClick:function(){return e.directToProfile(a.username)}},a.name),c.a.createElement("td",null,a.email),c.a.createElement("td",null,c.a.createElement(f.a.Control,{as:"select",value:a.role,onChange:function(t){return e.updateRole(t,a.username)},key:a.username},c.a.createElement("option",null,"user"),c.a.createElement("option",null,"manager"))))})))),c.a.createElement(k.a,{show:this.state.show,onHide:this.handleClose,animation:!1},c.a.createElement(k.a.Header,{closeButton:!0},c.a.createElement(k.a.Title,null,"\u65b0\u589e\u5e33\u865f")),c.a.createElement(k.a.Body,null,c.a.createElement(f.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a.Group,{controlId:"formGridUsername"},c.a.createElement(f.a.Label,null,"Username"),c.a.createElement(f.a.Control,{type:"text",name:"new_username",required:!0,value:this.state.new_username,pattern:"[a-zA-Z0-9]{8,16}",onChange:this.handleChange}),c.a.createElement(f.a.Text,{className:"text-muted"},"Make sure it's at least 8 characters and at most 16 characters.")),c.a.createElement(f.a.Group,{controlId:"formGridName"},c.a.createElement(f.a.Label,null,"Name"),c.a.createElement(f.a.Control,{type:"text",name:"new_name",required:!0,value:this.state.new_name,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridEmail"},c.a.createElement(f.a.Label,null,"Email"),c.a.createElement(f.a.Control,{type:"email",name:"new_email",required:!0,value:this.state.new_email,onChange:this.handleChange})),c.a.createElement(f.a.Group,{controlId:"formGridPassword"},c.a.createElement(f.a.Label,null,"Password"),c.a.createElement(f.a.Control,{type:"password",name:"new_password",required:!0,value:this.state.new_password,onChange:this.handleChange}),c.a.createElement(f.a.Text,{className:"text-muted"},"Make sure it's at least 8 characters and at most 16 characters."),c.a.createElement(f.a.Control,{as:"select",name:"new_role",value:this.state.new_role,onChange:this.handleSelectNewRole},c.a.createElement("option",null,"user"),c.a.createElement("option",null,"manager"))),c.a.createElement(E.a,{variant:"primary",type:"submit"},"Register"),c.a.createElement(f.a.Text,{className:"text-muted"},"By creating an account, you agree to the Terms of Service.")))))))}}]),a}(c.a.Component),Y=function(e){function a(e){var r;return Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={severity:"",show:!1,username:"",project_name:"",members:[],new_member_name:"",new_member_manager:!1,new_member_developer:!1,new_member_tester:!1,isManager:!1},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name,t(12).post(v.backend_host+"/project/member_list",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.handleClose=r.handleClose.bind(Object(d.a)(r)),r.handleShow=r.handleShow.bind(Object(d.a)(r)),r.addNewMember=r.addNewMember.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r.removeMember=r.removeMember.bind(Object(d.a)(r)),r.updateRole=r.updateRole.bind(Object(d.a)(r)),r.changeNewRole=r.changeNewRole.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1,new_member_name:"",new_member_role:"user"})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"directToProfile",value:function(e){this.props.history.push("/"+e)}},{key:"removeMember",value:function(e){var a=this;t(12).post(v.backend_host+"/project/remove_member",{username:this.username,project_name:this.project_name,selected_username:e}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":a.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"updateRole",value:function(e,a,n){var r=this;this.state.isManager&&t(12).post(v.backend_host+"/project/update_member_role",{username:this.username,project_name:this.project_name,selected_username:e,role:a,value:!n}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"changeNewRole",value:function(e){"manager"==e?this.setState({new_member_manager:!this.state.new_member_manager}):"developer"==e?this.setState({new_member_developer:!this.state.new_member_developer}):"tester"==e&&this.setState({new_member_tester:!this.state.new_member_tester})}},{key:"addNewMember",value:function(e){var a=this;t(12).post(v.backend_host+"/project/add_new_member",{username:this.username,project_name:this.project_name,new_member_data:{username:this.state.new_member_name,manager:this.state.new_member_manager,developer:this.state.new_member_developer,tester:this.state.new_member_tester}}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":a.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),this.handleClose()}},{key:"render",value:function(){var e=this,a="/"+this.username+"/"+this.project_name;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{marginTop:"50px"}},c.a.createElement(g.a,null,c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > ",c.a.createElement("a",{className:"PageLink",href:a},this.project_name)," > members"),c.a.createElement("h2",null,"Project Member"),this.state.isManager?c.a.createElement("div",null,c.a.createElement(E.a,{id:"button-add",variant:"primary",onClick:this.handleShow},"Add Member")):c.a.createElement("div",null),c.a.createElement("p",null,"Do \u2318F to search for specific user or attributes :)"),c.a.createElement(Q.a,{striped:!0,bordered:!0,hover:!0,style:{marginTop:"20px"}},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User Name"),c.a.createElement("th",null,"E-mail"),c.a.createElement("th",null,"Role"))),c.a.createElement("tbody",null,this.state.members.map((function(a,t){return c.a.createElement("tr",null,c.a.createElement("td",{onClick:function(){return e.directToProfile(a.username)}},a.name),c.a.createElement("td",null,a.email),c.a.createElement("td",null,a.owner?c.a.createElement("div",null,"Owner"):c.a.createElement("div",null,c.a.createElement(R.a,{className:"attribute",variant:"dark"},c.a.createElement(R.a,{className:"level",variant:a.manager?"warning":"secondary",onClick:function(){return e.updateRole(a.username,"manager",a.manager)}},"manager"),c.a.createElement(R.a,{className:"level",variant:a.developer?"warning":"secondary",onClick:function(){return e.updateRole(a.username,"developer",a.developer)}},"developer"),c.a.createElement(R.a,{className:"level",variant:a.tester?"warning":"secondary",onClick:function(){return e.updateRole(a.username,"tester",a.tester)}},"tester")))),console.log(a.owner),e.state.isManager&&!a.owner&&c.a.createElement("td",null,c.a.createElement(E.a,{id:"button-remove",variant:"danger",onClick:function(){return e.removeMember(a.username)}},"Remove")))})))),c.a.createElement(k.a,{show:this.state.show,onHide:this.handleClose,animation:!1},c.a.createElement(k.a.Header,{closeButton:!0},c.a.createElement(k.a.Title,null,"\u65b0\u589e\u6210\u54e1")),c.a.createElement(k.a.Body,null,c.a.createElement(f.a.Group,{controlId:"formNewMemberName"},c.a.createElement(f.a.Label,null,"\u8acb\u8f38\u5165\u6210\u54e1\u540d\u7a31"),c.a.createElement(f.a.Control,{type:"text",name:"new_member_name",value:this.state.new_member_name,onChange:this.handleChange}),c.a.createElement(R.a,{className:"attribute",variant:"dark"},c.a.createElement(R.a,{className:"level",variant:this.state.new_member_manager?"warning":"secondary",onClick:function(){return e.changeNewRole("manager")}},"manager"),c.a.createElement(R.a,{className:"level",variant:this.state.new_member_developer?"warning":"secondary",onClick:function(){return e.changeNewRole("developer")}},"developer"),c.a.createElement(R.a,{className:"level",variant:this.state.new_member_tester?"warning":"secondary",onClick:function(){return e.changeNewRole("tester")}},"tester")))),c.a.createElement(k.a.Footer,null,c.a.createElement(E.a,{variant:"secondary",onClick:this.handleClose},"Close"),c.a.createElement(E.a,{variant:"primary",onClick:this.addNewMember},"Add"))))))}}]),a}(c.a.Component),ee=(t(257),function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(l)))).onSelectedChange=function(e){t.props.onSelectedChange(e)},t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h4",null,"Select Member"),c.a.createElement(W.a,null,c.a.createElement(W.a.Toggle,{variant:"outline-dark",id:"dropdown-basic",style:{marginTop:"5px"}},""===this.props.selected?"all":this.props.selected),c.a.createElement(W.a.Menu,null,c.a.createElement(W.a.Item,{onClick:function(a){return e.onSelectedChange("")}},"all"),this.props.members.map((function(a){return c.a.createElement(W.a.Item,{onClick:function(t){return e.onSelectedChange(a.username)},key:a.username},a.username)})))))}}]),a}(c.a.Component)),ae=function(e){function a(e){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).call(this,e))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(S.a,null,c.a.createElement(S.a.Body,null,c.a.createElement(S.a.Title,null,this.props.title,c.a.createElement(R.a,{variant:"success"},this.props.issues.length)),c.a.createElement("div",{className:"pt-1"},c.a.createElement(S.a.Subtitle,{className:"mb-2 text-muted"},this.props.description),c.a.createElement(_.a,{variant:"flush"},this.props.issues.map((function(a){return c.a.createElement(_.a.Item,{key:a.title},c.a.createElement("a",{className:"PageLink",href:e.props.link+"/issues/"+a.issue_number},a.title))}))))))}}]),a}(c.a.Component),te=function(e){function a(e){var r;Object(n.a)(this,a),(r=Object(s.a)(this,Object(i.a)(a).call(this,e))).getIssues=function(e){return r.state.issues.filter((function(e){return""===r.state.selected_username||!!e.assignees.includes(r.state.selected_username)})).filter((function(a){return a.state===e}))},r.state={show:!1,username:"",project_name:"",issues:[],members:[],selected_username:""},r.username=r.props.match.params.username,r.project_name=r.props.match.params.project_name;var l=t(12);return l.post(v.backend_host+"/issue/list",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":e.data.payload.sort((function(e,a){var t=new Date(e.last_update_time),n=new Date(a.last_update_time);return console.log(n-t),n-t})),r.setState({issues:e.data.payload});break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),l.post(v.backend_host+"/project/member_list",{username:r.username,project_name:r.project_name}).then((function(e){switch(e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":r.setState(e.data.payload);break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}})),r.onSelectedChange=r.onSelectedChange.bind(Object(d.a)(r)),r}return Object(l.a)(a,e),Object(r.a)(a,[{key:"onSelectedChange",value:function(e){this.setState({selected_username:e})}},{key:"render",value:function(){var e="/"+this.username+"/"+this.project_name;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("p",null,c.a.createElement("a",{className:"PageLink",href:"/"+this.username},this.username)," > ",c.a.createElement("a",{className:"PageLink",href:e},this.project_name)," > ",c.a.createElement("a",{className:"PageLink",href:e+"/issues"},"issues")," > Dashboard"),c.a.createElement("h1",null,"Dashboard"))),c.a.createElement(b.a,{style:{paddingTop:"5px"}},c.a.createElement(ee,{selected:this.state.selected_username,onSelectedChange:this.onSelectedChange,members:this.state.members})),c.a.createElement(b.a,{style:{paddingTop:"5px"}},c.a.createElement(g.a,{md:6,lg:6},c.a.createElement(ae,{title:"Open",description:""===this.state.selected_username?"List of the opened issues of this project":"List of the opened issues assigned to "+this.state.selected_username,issues:this.getIssues("open"),link:"/"+this.username+"/"+this.project_name})),c.a.createElement(g.a,{md:6,lg:6},c.a.createElement(ae,{title:"Closed",issues:this.getIssues("closed"),description:""===this.state.selected_username?"List of the closed issues of this project":"List of the closed issues assigned to "+this.state.selected_username}))))}}]),a}(c.a.Component),ne=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).state={username:"",password:""},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.redirectToSignUp=t.redirectToSignUp.bind(Object(d.a)(t)),t}return Object(l.a)(a,e),Object(r.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(h.a)({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),t(12).post("http://127.0.0.1:5000/sign_in",this.state).then((function(e){switch(console.log(e),e.data.info){case"redirect":window.location=window.location.origin+e.data.location;break;case"success":window.location=window.location.origin+"/"+e.data.id;break;case"failure":alert(e.data.payload);break;default:alert("Web broken. Please refresh this page.")}}))}},{key:"redirectToSignUp",value:function(){this.props.history.push("/sign_up")}},{key:"render",value:function(){var e=this.state;e.username,e.password;return c.a.createElement(p.a,null,c.a.createElement(b.a,{style:{paddingTop:"50px"}},c.a.createElement(g.a,{lg:12},c.a.createElement("div",null,c.a.createElement("h1",null,"404"),c.a.createElement("h4",null,"Page Not Found"),c.a.createElement("p",null,"Make sure the address is correct and the page hasn't moved.")))))}}]),a}(c.a.Component),re=t(122),se=t(32),ie=function(e){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(re.a,null,c.a.createElement($,null),c.a.createElement(se.c,null,c.a.createElement(se.a,{path:"/404",component:ne}),c.a.createElement(se.a,{path:"/sign_in",component:w}),c.a.createElement(se.a,{path:"/sign_up",component:y}),c.a.createElement(se.a,{path:"/accountmanage",component:X}),c.a.createElement(se.a,{path:"/:username/:project_name/issues/new",component:K}),c.a.createElement(se.a,{path:"/:username/:project_name/issues/:issue_number",component:q}),c.a.createElement(se.a,{path:"/:username/:project_name/dashboard",component:te}),c.a.createElement(se.a,{path:"/:username/:project_name/issues",component:z}),c.a.createElement(se.a,{path:"/:username/:project_name/members",component:Y}),c.a.createElement(se.a,{path:"/:username/projects",component:O}),c.a.createElement(se.a,{path:"/:username/:project_name",component:M}),c.a.createElement(se.a,{path:"/:username",component:j})))}}]),a}(c.a.Component);u.a.render(c.a.createElement(ie,null),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.32e19415.chunk.js.map